<!DOCTYPE html>
<html lang="en">
<head>

	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

	<base href="https://scottpetrovic.github.io/krita-hugo/">

	<title>Krita | 4.0 Development Update | Krita Site</title>

	<link href="css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
	<link rel="stylesheet" href="css/style.css" type="text/css" media="all" />

	<link href="images/favicon.ico" rel="shortcut icon" type=image/vnd.microsoft.icon>

	<link rel="alternate" type="application/rss+xml" href="/index.xml" title="Site Title">

	<script src="js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>  
		
	
</head>

<body>

<header class="site-header"><nav class="site-nav max-content-width">
   <a class="logo" href="https://scottpetrovic.github.io/krita-hugo//en">
      <img src="images/krita-logo.png" style="width: 7.5rem" />
    </a>

    <ul class="main-menu">
      <li class="">
          <a href="https://scottpetrovic.github.io/krita-hugo/features">Features</a>
      </li><li class="">
          <a href="https://scottpetrovic.github.io/krita-hugo/download">Download</a>
      </li><li class="">
          <a href="https://docs.krita.org">Learn</a>
      </li><li class="">
          <a href="https://scottpetrovic.github.io/krita-hugo/get-involved">Get Involved</a>
      </li><li class="">
          <a href="https://scottpetrovic.github.io/krita-hugo/shop">Shop</a>
      </li>

      <li class="donate-button">
        <a href="https://fund.krita.org" class="button">Donate</a>
      </li>

     

  </ul>
  </nav>
</header>


<main class="content">


<div class="post">
    <h1 style="margin-bottom: 0.5rem">4.0 Development Update</h1>

    <div style="text-align: center; margin-bottom: 2rem;">
        <span>November 6, 2017</span> 
        <span class="vertical-divider">|</span>
        <span> Reading time: <em>7 min</em></span> 
        
        
    </div>

    <p>And then we realized we hadn&rsquo;t posted news about ongoing Krita development for some time now. The main reason is that we&rsquo;ve, well, been really busy doing development. The other reason is that we&rsquo;re stuck making fully-featured preview builds on OSX and Linux. More about that later&hellip;</p>
<p>So, what&rsquo;s been going on? Some of the things we&rsquo;ve been doing were backported to Krita 3.2 and 3.3, like support for the Windows 8 Pointer API, support for the ANGLE Direct3D display renderer, the new gmic-qt G&rsquo;Mic plugin, new commandline options, support for touch painting, the new smart patch tool, new brush presets and blending modes&hellip; But there is also a lot of other work that simply couldn&rsquo;t be backported to 3.x.</p>
<p>The last time we did a development update with Krita 4.0 was in June 2017: the <a href="/item/first-development-builds-for-krita-4-0/">first development build for 4.0</a> already had a large number of new features:</p>
<ul>
<li>the SVG-based vector layers with improved vector handling tools,</li>
<li>Allan Marshall&rsquo;s new airbrush system,</li>
<li>Eugene Ingerman&rsquo;s healing brush,</li>
<li>a new export system that reports which parts of your image cannot be saved to your chosen file format: and that is <strong>now</strong> <strong>improved: saving now happens in the background</strong>. You can press save, and continue painting. Autosave also doesn&rsquo;t interrupt your painting anymore.</li>
<li>Wolthera&rsquo;s new and improved palette docker</li>
<li>A new docker for loading SVG symbol collections, Which now comes with <strong>a new symbol libary with brush preset icons.</strong> Perfect with the new brush editor.</li>
<li>We added Python scripting (only available in the Windows builds: we need platform maintainers). Eliakin and Wolthera have spent the summer adding great new python-based plugins, extending and improving the scripting API while working:
<ul>
<li>Ten brushes: a script to assign ten favorite brushes to hotkeys</li>
<li>Quick settings docker: with brush size, opacity and flow</li>
<li>Comic Projects Management tools</li>
<li>And much, much more</li>
</ul>
</li>
</ul>
<h2 id="what-has-been-recently-added-to-krita-40">What has been recently added to Krita 4.0</h2>
<h3 id="big-performance-improvements">Big performance improvements</h3>
<p>After the development build release we sent out a user survey:  In case you didn&rsquo;t see the results of our last survey this was the summary.</p>
<p><img src="images/posts/2017/gripes.png" alt=""></p>
<p>The biggest item on the list was lag. Lag can have many meanings, and there will always be brushes or operations that are not instant. But we had the opportunity the past couple of months to work on an outside project to help improve the performance of Krita. While we knew this might delay the release of Krita 4.0, it would be much appreciated by artists. Some of the performance improvements contain the following:</p>
<ul>
<li>multi-threaded performance using all your CPUs for pixel brush engines (80% of all the brushes that are made).</li>
<li>A lot of speed optimizations with dab grouping for all brushes</li>
<li>more caching to speed up brush rendering across all brushes.</li>
</ul>
<p>Here&rsquo;s a video of Wolthera using the multithreaded brushes:</p>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/wnPUtYo2Y9Y" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

<h3 id="performance-benchmarking">Performance Benchmarking</h3>
<p>We also added performance benchmarking. We can see much more accurately how brushes are performing and make our brushes better/optimized in the future:</p>
<p><img src="images/posts/2017/performance-benchmarking.gif" alt=""></p>
<p> </p>
<p> </p>
<h3 id="pixel-grid">Pixel Grid</h3>
<p>Andrey Kamakin added an option to show a thin grid around pixels if you zoom in enough:</p>
<p><img src="images/posts/2017/pixel-grid-example.gif" alt=""></p>
<h3 id="live-brush-preview">Live Brush Preview</h3>
<p>Scott Petrovic has been working with a number of artists to rework the brush editor. There have been many things changed including renaming brushes and  better saving options.  There&rsquo;s also a live stroke preview now to see what happens when you change settings. Parts of the editor can be shown or hidden to accommodate for smaller monitors.</p>
<p><img src="images/posts/2017/live-preview.gif" alt=""></p>
<h3 id="isometric-grid">Isometric Grid</h3>
<p>The grid now has a new Isometric option. This can be controlled and modified through the grid docker:</p>
<p><a href="images/posts/2017/isometric.png"><img src="images/posts/2017/isometric-1024x715.png" alt=""></a></p>
<h2 id="filters">Filters</h2>
<ul>
<li>A new edge detection filter</li>
<li>Height to normal map filter</li>
<li>Improved gradient map filter</li>
<li>A new ASC-CDL color balance filter with slope, offset and power parameters</li>
</ul>
<h3 id="layers">Layers</h3>
<ul>
<li>File layers now can have the location of their reference changed.</li>
<li>A convert layer to file layer option has been added that saves out layers and replaces them with a file layer referencing them.</li>
</ul>
<h3 id="dockers">Dockers</h3>
<ul>
<li>A new docker for use on touch screens: big buttons in a layout that resembles the button row of a Wacom tablet.</li>
</ul>
<h3 id="more">More</h3>
<p>And there&rsquo;s of course a lot of bug fixes, UI polish, performance improvements, small feature improvements. The list is too long to keep here, so we&rsquo;re working on a <a href="/krita-4-0-release-notes/">separate release notes page</a>. These notes, like this Krita 4.0 build, are very much a work in progress!</p>
<h3 id="features-currently-working-on">Features currently working on</h3>
<p>There are still a number of features we want to have done before we release Krita 4.0:</p>
<ul>
<li>a new text tool (we have started the ground work for this, but it still needs a lot more work)</li>
<li>a faster colorize mask tool (we need to make this much faster as it is currently too slow)</li>
<li>stacked brushes where you can have multiple brush tips similar to other applications.</li>
</ul>
<p>And then there are no doubt things missing from the big new features, like SVG vector layers and Python scripting that need to be implemented, there will be bugs that need to be fixed. We&rsquo;ve made packages for you to download and test, but be warned, there are bugs. And:</p>
<p><em><strong>This is pre-alpha code. It will crash. It will do weird things. It might even destroy your images on saving!</strong></em></p>
<p><em><strong>AND: DOCUMENTS WITH VECTOR LAYERS SAVED IN KRITA 4.0 CANNOT BE EDITED IN KRITA 3.x!</strong></em></p>
<p>You can have both Krita 3 and Krita 4 on the same system. They will use the same configuration (for now, that might change), which means that either Krita 3 or Krita 4 can get confused. They will use the same resources folder, so brush presets and so on are shared.</p>
<h3 id="downloads">Downloads</h3>
<p>Right now, all releases and builds, except for the Lime PPA, are created by the project maintainer, Boudewijn Rempt. This is not sustainable! Only for the Windows build, a third person is helping out by maintaining the scripts needed to build and package Krita. We really do need people to step up and help maintain the Linux and macOS/OSX builds. This means that:</p>
<ul>
<li>The <strong>Linux AppImage</strong> is missing <strong>Python scripting</strong> and <strong>sound</strong> <strong>playback</strong>. It may be missing the QML-based touch docker. We haven&rsquo;t managed to figure out how to add those features to the appimage! The appimage build script is also seriously outdated, and Boudewijn doesn&rsquo;t have time to improve it, next to all the other things that need to be done and managed and, especially, coded. <strong>We need a platform maintainer for Linux!</strong></li>
<li>The <strong>OSX/macOS DM****G</strong> is missing Python scripting as well as PDF import and G&rsquo;Mic integration. Boudewijn simply does not have the in-depth knowledge of OSX/macOS needed to figure out how to add that properly to the OSX/macOS build and packages. Development on OSX is picking up, thanks to Bernhard Liebl, but <strong>we need a platform maintainer for macOS/OSX!</strong></li>
</ul>
<h4 id="windows-download">Windows Download</h4>
<p>Note for Windows users: if you encounter crashes, please follow <a href="https://docs.krita.org/Dr._Mingw_debugger">these instructions</a> to use the debug symbols so we can figure out where Krita crashes.</p>
<p>There are no 32 bits Windows builds yet. There is no installer.</p>
<ul>
<li>Portable 64 bits Windows: <a href="https://download.kde.org/unstable/krita/4.0.0-prealpha.2/krita-4.0.0-prealpha.2c.zip">krita-4.0.0-prealpha.2c.zip</a></li>
<li><a href="https://download.kde.org/unstable/krita/4.0.0-prealpha.2/krita-4.0.0-prealpha.2c-dbg.zip">Debug symbols. (Unpack in the Krita installation folder)</a></li>
</ul>
<h4 id="linux-download">Linux Download</h4>
<ul>
<li>64 bits Linux: <a href="https://download.kde.org/unstable/krita/4.0.0-prealpha.2/krita-4.0.0-pre-alpha-x86_64.appimage">krita-4.0.0-pre-alpha-x86_64.appimage</a></li>
</ul>
<p>(If, for some reason, Firefox thinks it needs to load this as text: to download, right-click on the link.)</p>
<h4 id="osx-download">OSX Download</h4>
<ul>
<li>OSX disk image: <a href="https://download.kde.org/unstable/krita/4.0.0-prealpha.2/krita-4.0.0-prealpha.2b.dmg">krita-4.0.0-prealpha.2b.dmg</a></li>
</ul>
<p>Note: the gmic-qt and pdf plugins are not available on OSX.</p>
<h3 id="source-code">Source code</h3>
<ul>
<li>Source code: <a href="https://download.kde.org/unstable/krita/4.0.0-prealpha.2/krita-4.0.0-prealpha.2.tar.gz">krita-4.0.0-prealpha.2.tar.gz</a></li>
</ul>
<h4 id="md5sums">md5sums</h4>
<p>For all downloads:</p>
<ul>
<li><a href="https://download.kde.org/unstable/krita/4.0.0-prealpha.2/md5sums.txt">md5sums.txt</a></li>
</ul>
<h4 id="key">Key</h4>
<p>The Linux appimage and the source tarball are signed. You can retrieve the public key over https here: <a href="https://share.kde.org/index.php/s/fJ99V5mZvuyD0z8">0x58b9596c722ea3bd.asc</a>. The signatures are <a href="http://download.kde.org/unstable/krita/4.0.0-prealpha.2/">here</a>.</p>
<h4 id="support-krita">Support Krita</h4>
<p>Krita is a free and open source project. Please consider supporting the project with <a href="/support-us/donations/">donations</a> or by <a href="/support-us/shop">buying training videos or the artbook!</a> With your support, we can keep the core team working on Krita full-time.</p>

</div>


</main>


<style>

	footer {
		margin-top: 5rem;
		text-align: center;
		background: #324148;
		padding: 1rem;
	}

	footer p {
		color: #a8a5a5;
	}

	footer a {
		display: block;
		text-align: left;
		color: #91b3c3;
		text-decoration: none;
	}
	footer a:hover {
		text-decoration: underline;
		color: #91b3c3; 
	}

	footer h4 {
		text-align: left;
		color: white;
	}
</style>






<footer>

<div  class="container-padding">

	<div class="row">
		<div class="col-md-3">
			<h4>Software</h4>
			<a href="https://scottpetrovic.github.io/krita-hugo/report-a-bug">Report a Bug</a>	
			<a href="https://scottpetrovic.github.io/krita-hugo/roadmap">Roadmap</a>
			<a href="https://scottpetrovic.github.io/krita-hugo/release-history">Release History</a>	

		</div>
		<div class="col-md-3">
			<h4>Education</h4>
			<a href="https://docs.krita.org/en/">Documentation</a>
			<a href="https://docs.krita.org/KritaFAQ.html">FAQ</a>
			<a href="https://scottpetrovic.github.io/krita-hugo/privacy-statement">Privacy Statement</a>	
			<a href="https://docs.krita.org/en/tutorials.html">Tutorials</a>

		</div>
		<div class="col-md-4">
			<h4>Foundation</h4>
			<a href="https://scottpetrovic.github.io/krita-hugo/about">About</a>
			<a href="https://scottpetrovic.github.io/krita-hugo/donations">Donations</a>
			<a href="https://scottpetrovic.github.io/krita-hugo/get-involved">Get Involved</a>
			
			<a href="https://userbase.kde.org/What_is_KDE/en">What is KDE</a>
			<a href="https://scottpetrovic.github.io/krita-hugo/website">Website Licenses</a>
			<a href="https://scottpetrovic.github.io/krita-hugo/contact">Contact</a>


		</div>

		<div class="col-md-2">
			<select onchange="languageSwitched(this)" >
				<option value="">Language</option>
				
					<option value="https://scottpetrovic.github.io/krita-hugo/">English</option>
				
					<option value="https://scottpetrovic.github.io/krita-hugo/fr/">French</option>
				
					<option value="https://scottpetrovic.github.io/krita-hugo/zh/">Chinese</option>
				
					<option value="https://scottpetrovic.github.io/krita-hugo/zh-hk/">Chinese (HK)</option>
				
					<option value="https://scottpetrovic.github.io/krita-hugo/zh-tw/">Chinese (TW)</option>
				
					<option value="https://scottpetrovic.github.io/krita-hugo/jp/">Japanese</option>
				
					<option value="https://scottpetrovic.github.io/krita-hugo/es/">Spanish</option>
				
					<option value="https://scottpetrovic.github.io/krita-hugo/ko/">Korean</option>
				
			</select>
			
		</div>
	</div>

</div>




<style>
	select {
		background: none;
		border: 1px solid grey;
		padding: 0.25rem;
		border-radius: 3px;
		color: white;
	}
</style>

<script>
	function languageSwitched (selectedObject) {
		location.href = selectedObject.value; 
	};
</script>




</footer>

</body>
</html>

