<!DOCTYPE html>
<html lang="zh">
<head>

	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

	<title>Krita | KSeExpr 程序库 4.0.0 版已经推出 | Krita Site(PRC)</title>

	<link href="https://scottpetrovic.github.io/krita-hugo/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
	<link rel="stylesheet" href="https://scottpetrovic.github.io/krita-hugo/css/style.css" type="text/css" media="all" />

	<link href="https://scottpetrovic.github.io/krita-hugo/images/favicon.ico" rel="shortcut icon" type=image/vnd.microsoft.icon>

	<link rel="alternate" type="application/rss+xml" href="https://scottpetrovic.github.io/krita-hugo/index.xml" title="Site Title">

	<script src="https://scottpetrovic.github.io/krita-hugo//js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
		
	
</head>

<body>

<header class="site-header"><nav class="site-nav max-content-width">
   <a class="logo" href="https://scottpetrovic.github.io/krita-hugo//zh">
      <img src="https://scottpetrovic.github.io/krita-hugo//images/krita-logo.png" style="width: 7.5rem" />
    </a>

    <ul class="main-menu">
      

      <li class="donate-button">
        <a href="https://fund.krita.org" class="button">Donate</a>
      </li>

     

  </ul>
  </nav>
</header>


<main class="content">


<div class="post">
    <h1 style="margin-bottom: 0.5rem">KSeExpr 程序库 4.0.0 版已经推出</h1>

    <div style="text-align: center; margin-bottom: 2rem;">
        <span>2020年11月17日</span> 
        <span class="vertical-divider">|</span>
        <span> Reading time: <em>3 min</em></span> 
        
        
    </div>

    <p><a href="/images/posts/2020/kseexpr.jpg"><img src="/images/posts/2020/kseexpr-1024x1024.jpg" alt="Pattern generated by KSeExpr"></a></p>
<p>今天，KSeExpr 程序库 4.0.0 版正式发布了。</p>
<p>KSeExpr 程序库是迪士尼动画工作室开发的 <a href="https://wdas.github.io/seexpr/">SeExpr</a> 表达式语言程序库的分支，Krita 通过此程序库实现 SeExpr 可编程填充图层。KSeExpr 是 Amyspark 在 2020 年谷歌编程之夏活动中负责的项目。</p>
<h2 id="主要变更项目">主要变更项目</h2>
<p>4.0.0 版是 KSeExpr 程序库的一次重大更新，其中最重要的变动如下：</p>
<ul>
<li>**项目更名为 KSeExpr。**这避免了与上游的 SeExpr 项目发生命名冲突，方便各发行版和 Krita 对本程序库进行打包作业。
<ul>
<li>程序库整体的<code>namespace</code>(命名空间) 改为<code>KSeExpr</code>(在 CMake 和 C++ 中同样) 。</li>
<li>基本程序库名称改为<code>KSeExpr</code>，UI 程序库名称改为<code>KSeExprUI</code>。include 目录也据此进行了扁平化处理，如<code>&lt;KSeExpr/Expression.h&gt;</code>和<code>&lt;KSeExprUI/ExprControlCollection.h&gt;</code>。</li>
</ul>
</li>
<li>**项目许可证改为 GPL v3。**SeExpr 的原始项目代码使用的自由软件许可证是 Apache 2.0 许可证的变种，它的条款对于我们的工作带来了不少问题。我们参考 LibreOffice 的先例，将类 APL 许可证改为 GPLv3 许可证。</li>
<li>全部代码已经按照 <strong>C++14 规范</strong> 进行了更新。</li>
<li>**弃用 Python 绑定和 pthread。**如果你只需要使用本程序库 (如同 Krita 那样)，你只需要 Qt 和一种 C++14 编译器。</li>
<li>LLVM 编译器构建的版本已经与解析器下的工作状态功能均等。我们修复了一些之前通过 LLVM 构建时会缺失的功能，例如 1D 到 3D 的自动投射和字符串运算符等。</li>
<li>KSeExpr 完全支持静态 LLVM 和安卓，不再存在链接和 API 级别的问题。</li>
<li>之前只存在于文档中的 Arc trigonometric functions (弧三角函数) 和<code>rand()</code>函数已被加入。</li>
</ul>
<h2 id="下载">下载</h2>
<p>源代码： <a href="https://download.kde.org/stable/kseexpr/4.0.1/kseexpr-4.0.1.0.tar.gz">kseexpr-4.0.1.0.tar.gz</a></p>
<p>哈希值：</p>
<ul>
<li>md5sum: <code>f3242a4969cda9833c2f685786310b76 kseexpr-4.0.1.0.tar.gz</code></li>
<li>sha256: <code>13b8455883001668f5d79c5734821c1ad2a0fbc91d019af085bb7e31cf6ce926 kseexpr-4.0.1.0.tar.gz</code></li>
</ul>
<p>GPG 签名： <a href="https://download.kde.org/stable/kseexpr/4.0.1/kseexpr-4.0.1.0.tar.gz.asc">kseexpr-4.0.1.0.tar.gz.asc</a>.</p>
<p>该源代码的 tarball 文件现在通过 Amyspark 的 Github GPG 密钥 (<code>FC00108CFD9DBF1E</code>) 进行签名。你可以从 <a href="https://github.com/amyspark.gpg">Amy 的 Github 档案页面下载该密钥</a>。</p>
<h2 id="400-版完整更新列表-2020-11-12">4.0.0 版完整更新列表 (2020-11-12)</h2>
<p>由于 KSeExpr 程序库项目与编程密切相关，下列更新内容不作翻译。</p>
<h3 id="新增项目">新增项目</h3>
<ul>
<li>Add implementation of rand() function (<code>a84fe56</code>)</li>
<li>Enable ECM&rsquo;s automatic ASAN support (<code>16f58e9</code>)</li>
<li>Enable and fix skipped imaging and string tests (<code>e8b8072</code>)</li>
<li>Standardize all comment parsing (<code>c12bdb4</code>)</li>
<li>Add README for the fork (<code>abc4f35</code>)</li>
<li>Rebrand our fork into KSeExpr (<code>97694c4</code>)</li>
<li>Automagically deploy pregenerated parser files (<code>0ae6a43</code>)</li>
<li>Use SPDX license statements (<code>83614e6</code>)</li>
<li>Enable version detection (<code>e79c35b</code>)</li>
<li>Use STL-provided mutex and drop pthread dependency (<code>1782a65</code>)</li>
<li>Reimplement Timer (<code>20a25bd</code>)</li>
<li>Complete the relicensing process (<code>b19fd13</code>)</li>
<li>Enable arc functions (<code>08af2ef</code>)</li>
<li>Add abandoned test for nested expressions (<code>2af1db3</code>)</li>
<li>Add abandoned type check tests (<code>65064ad</code>)</li>
<li>Implement equality between ColorSwatchEditables (<code>8d864ce</code>)</li>
<li>Add the abandoned typePrinter executable (<code>2171588</code>)</li>
<li>Add BSD-3 release scripts (<code>fe11265</code>)</li>
<li>Automatically deploy version changes (<code>1ebb54b</code>)</li>
</ul>
<h3 id="修复项目">修复项目</h3>
<ul>
<li>Fix printf format validation (<code>a77cbfd</code>)</li>
<li>Fix LLVM&rsquo;s support for string variables (<code>13c1dcd</code>)</li>
<li>Detect and link against shared libLLVM (<code>b57c323</code>)</li>
<li>Fix compilation on Android (<code>3969081</code>)</li>
<li>Only build KSeExprUI if Qt5 is enabled (<code>63a0e3f</code>)</li>
<li>Sort out pregenerated parser files (<code>ee47a75</code>)</li>
<li>Fix translation lookup (<code>e37d5f0</code>)</li>
<li>Fix path substitution with pregenerated files (<code>46acc2e</code>)</li>
<li>Restore compatibility with MSVC on Windows (<code>9a8fa7c</code>)</li>
<li>Properly trim range comments (<code>6320439</code>)</li>
<li>Fix Vec1d promotion with LLVM evaluator (<code>cd9651d</code>)</li>
<li>Fix interpreter state dump in MinGW (<code>ee2ca3e</code>)</li>
<li>Fix pointless negative check on demos (<code>7328466</code>)</li>
<li>Fix SpecExaminer and add abandoned pattern matcher tool (<code>366e733</code>)</li>
</ul>
<h3 id="移除项目">移除项目</h3>
<ul>
<li>Clean up various strings (<code>8218ab3</code>)</li>
<li>Remove Disney internal widgets (part 1) (<code>a30cfe5</code>)</li>
<li>Remove Disney internal widgets (part 2) (<code>14b2610</code>)</li>
<li>Remove Disney internal widgets (part 3) (<code>d3b9d34</code>)</li>
<li>Remove Disney internal widgets (part 4) (<code>bc65b77</code>)</li>
<li>Remove Disney-internal libraries (<code>da04f96</code>)</li>
<li>Remove Qt 4 compatibility (<code>bdef3e2</code>)</li>
<li>Drop unused demos (<code>884a977</code>)</li>
<li>Assorted cleanup (<code>6c5134f</code>)</li>
<li>Assorted linkage cleanup (<code>18af7e6</code>)</li>
<li>Clean up KSeExpr header install logic (<code>98b4c50</code>)</li>
<li>Assorted cleanup in KSeExpr (<code>735958f</code>)</li>
<li>Remove more unused documentation (<code>8a2ac53</code>)</li>
<li>Remove KSeExprUIPy (<code>68baed1</code>)</li>
<li>Remove Platform header (<code>6d6db30</code>)</li>
<li>Cleanup and remove the plugin system (<code>b3c4d48</code>)</li>
<li>Remove unused files in KSeExprUI (<code>6229b88</code>)</li>
<li>Remove last remnants of sscanf/old number parse logic (<code>5717cd6</code>)</li>
<li>Remove leftovers of Disney&rsquo;s Python tests (<code>df24cc4</code>)</li>
<li>General cleanup of the package lookup system (<code>d332d35</code>)</li>
<li>Clean up last remaining warnings (<code>36ea2d5</code>)</li>
<li>Remove unused variable in the parser (<code>813d1a0</code>)</li>
<li>Remove redundant inclusion (<code>fb55833</code>)</li>
</ul>
<h3 id="更改项目">更改项目</h3>
<ul>
<li>Set Krita build (library and UI only) as default (<code>2deb17a</code>)</li>
<li>Update pregenerated files (<code>2c8481c</code>)</li>
<li>Update and clean Doxygen docs (<code>7df9011</code>)</li>
<li>Make performance monitoring an option (<code>6253bcd</code>)</li>
<li>clang-tidy: Curve (<code>5584b30</code>)</li>
<li>clang-tidy: Vec (<code>b02a8b0</code>)</li>
<li>clang-tidy: Utils (<code>f9b89ae</code>)</li>
<li>Update README (<code>05212cb</code>)</li>
<li>clang-tidy: ExprType (<code>e07d9d1</code>)</li>
<li>clang-tidy: ExprPatterns (<code>03010ff</code>)</li>
<li>clang-tidy: ExprEnv (<code>a22d3a3</code>)</li>
<li>Modernize imageSynth demo to C++14 (<code>474e268</code>)</li>
<li>Modernize imageEditor demo to C++14 (<code>a9c7538</code>)</li>
<li>Modernize asciiGraph demo to C++14 (<code>ec103be</code>)</li>
<li>Modernize asciiCalculator demo to C++14 (<code>8939da6</code>)</li>
<li>Modernize imageSynthForPaint3d demo to C++14 (<code>7658d75</code>)</li>
<li>clang-tidy in KSeExprUI (<code>85860c0</code>)</li>
<li>clang-tidy: Context (<code>574b711</code>)</li>
<li>clang-tidy: ErrorCode (<code>74860fb</code>)</li>
<li>constexpr-ize noise tables (<code>7335fc7</code>)</li>
<li>clang-tidy: VarBlock (<code>935da03</code>)</li>
<li>clang-tidy: Interpreter (<code>83ed077</code>)</li>
<li>Split tests by category and use GTest main() (<code>933f0cc</code>)</li>
<li>clang-tidy: ExprColorCurve (<code>675f160</code>)</li>
<li>clang-tidy: ExprBrowser (<code>84e2782</code>)</li>
<li>clang-tidy: ExprWalker (<code>5d24b2b</code>)</li>
<li>clang-tidy: ExprColorSwatch (<code>c667d97</code>)</li>
<li>clang-tidy: ExprControl (<code>9313acf</code>)</li>
<li>clang-tidy: ExprControlCollection (<code>fd0693d</code>)</li>
<li>clang-tidy: ExprCurve (<code>efeff98</code>)</li>
<li>clang-tidy: ExprEditor (<code>338dc3c</code>)</li>
<li>clang-tidy: Evaluator (LLVM disabled) (<code>3927858</code>)</li>
<li>clang-tidy: ExprBuiltins (part 1) (<code>8e8fe4f</code>)</li>
<li>clang-tidy: ExprBuiltins (part 2) (<code>05c7e70</code>)</li>
<li>clang-tidy unused variables (<code>58aef1d</code>)</li>
<li>Make Examiner::post pure virtual at last (<code>e5cc038</code>)</li>
<li>clang-tidy: ExprNode (<code>7da56ba</code>)</li>
<li>clang-tidy: ExprLLVM (LLVM disabled) (<code>aa34f51</code>)</li>
<li>clang-tidy: ExprFuncX (<code>6715180</code>)</li>
<li>Modernize tests to C++14 (<code>455c3b6</code>)</li>
<li>clang-tidy Utils (<code>ec8c1f0</code>)</li>
<li>clang-tidy: Evaluator (LLVM enabled) (<code>9e82340</code>)</li>
<li>clang-tidy: ExprLLVMCodeGeneration (<code>f23aca9</code>)</li>
<li>:gem: v4.0.0.0 (<code>5f02791</code>)</li>
</ul>

</div>


</main>


<style>

	footer {
		margin-top: 5rem;
		text-align: center;
		background: #324148;
		padding: 1rem;
	}

	footer p {
		color: #a8a5a5;
	}

	footer a {
		display: block;
		text-align: left;
		color: #91b3c3;
		text-decoration: none;
	}
	footer a:hover {
		text-decoration: underline;
		color: #91b3c3; 
	}

	footer h4 {
		text-align: left;
		color: white;
	}
</style>




   



<footer>

<div  class="container-padding">

	<div class="row">
		<div class="col-md-3">
			<h4>Software</h4>
			<a href="https://scottpetrovic.github.io/krita-hugo/zh/report-a-bug">Report a Bug</a>	
			<a href="https://scottpetrovic.github.io/krita-hugo/zh/roadmap">Roadmap</a>
			<a href="https://scottpetrovic.github.io/krita-hugo/zh/release-history">Release History</a>	

		</div>
		<div class="col-md-3">
			<h4>Education</h4>
			<a href="https://docs.krita.org/zh/">Documentation</a>
			<a href="https://docs.krita.org/KritaFAQ.html">FAQ</a>
			<a href="https://scottpetrovic.github.io/krita-hugo/zh/privacy-statement">Privacy Statement</a>	
			<a href="https://docs.krita.org/zh/tutorials.html">Tutorials</a>

		</div>
		<div class="col-md-4">
			<h4>Foundation</h4>
			<a href="https://scottpetrovic.github.io/krita-hugo/zh/about">About</a>
			<a href="https://scottpetrovic.github.io/krita-hugo/zh/donations">Donations</a>
			<a href="https://scottpetrovic.github.io/krita-hugo/zh/get-involved">Get Involved</a>
			
			<a href="https://userbase.kde.org/What_is_KDE/zh">What is KDE</a>
			<a href="https://scottpetrovic.github.io/krita-hugo/zh/website">Website Licenses</a>
			<a href="https://scottpetrovic.github.io/krita-hugo/zh/contact">Contact</a>


		</div>

		<div class="col-md-2">
			<select onchange="languageSwitched(this)" >
				<option value="">Language</option>
				
					<option value="https://scottpetrovic.github.io/krita-hugo/">English</option>
				
					<option value="https://scottpetrovic.github.io/krita-hugo/fr/">French</option>
				
					<option value="https://scottpetrovic.github.io/krita-hugo/zh/">Chinese</option>
				
					<option value="https://scottpetrovic.github.io/krita-hugo/zh-hk/">Chinese (HK)</option>
				
					<option value="https://scottpetrovic.github.io/krita-hugo/zh-tw/">Chinese (TW)</option>
				
					<option value="https://scottpetrovic.github.io/krita-hugo/jp/">Japanese</option>
				
					<option value="https://scottpetrovic.github.io/krita-hugo/es/">Spanish</option>
				
					<option value="https://scottpetrovic.github.io/krita-hugo/ko/">Korean</option>
				
			</select>
			
		</div>
	</div>

</div>




<style>
	select {
		background: none;
		border: 1px solid grey;
		padding: 0.25rem;
		border-radius: 3px;
		color: white;
	}
</style>

<script>
	function languageSwitched (selectedObject) {
		location.href = selectedObject.value; 
	};
</script>




</footer>

</body>
</html>

